# 349--------leetcode------两个数组的交集

给定两个数组 `nums1` 和 `nums2` ，返回 *它们的* 

*交集*

 。输出结果中的每个元素一定是 **唯一** 的。我们可以 **不考虑输出结果的顺序** 。



 

**示例 1：**

```
输入：nums1 = [1,2,2,1], nums2 = [2,2]
输出：[2]
```

**示例 2：**

```
输入：nums1 = [4,9,5], nums2 = [9,4,9,8,4]
输出：[9,4]
解释：[4,9] 也是可通过的
```







这道题目是关于求两个数组的交集，并且要求输出结果中的每个元素唯一且顺序不重要。我们可以用多种方法来解决这个问题，我将为你介绍两种常见的方法。

### 方法一：使用集合操作

一个直观且高效的方法是利用集合的性质来求解交集。集合中的元素是唯一的，并且可以利用集合操作来实现快速的交集计算。

1. **将数组转换为集合**：将 `nums1` 和 `nums2` 分别转换为集合 `set1` 和 `set2`。
2. **计算交集**：利用集合的交集操作 `intersection` 来找出两个集合的交集。
3. **转换为列表**：将交集的结果转换为列表。

这种方法的时间复杂度为 O(m + n)，其中 m 和 n 分别是两个数组的长度。

下面是具体的代码实现：

```python
def intersection(nums1, nums2):
    set1 = set(nums1)
    set2 = set(nums2)
    return list(set1.intersection(set2))
```

### 方法二：使用字典统计元素出现次数

另一种方法是利用字典来统计每个数组中元素的出现次数，然后找出两个数组中都出现的元素。

1. **使用字典统计**：分别用 `dict1` 和 `dict2` 记录 `nums1` 和 `nums2` 中每个元素出现的次数。
2. **找出交集**：遍历其中一个字典，在另一个字典中查找是否存在相同的键，并记录下来。
3. **转换为列表**：将记录的键转换为列表作为最终的交集结果。

这种方法的时间复杂度也是 O(m + n)，但是需要更多的空间来存储字典。

以下是具体的代码实现：

```python
def intersection(nums1, nums2):
    dict1 = {}
    dict2 = {}
    
    for num in nums1:
        dict1[num] = dict1.get(num, 0) + 1
        
    for num in nums2:
        dict2[num] = dict2.get(num, 0) + 1
        
    result = []
    for num in dict1:
        if num in dict2:
            result.append(num)
    
    return result
```

### 总结

两种方法都可以有效地求解两个数组的交集，选择哪一种方法可以根据实际情况来决定。如果希望代码简洁且高效，第一种方法使用集合操作是一个很好的选择；如果需要更多控制或者对空间复杂度有要求，可以选择第二种方法使用字典统计。



2/2









dict1[num] = dict1.get(num, 0) + 1





这行代码是 Python 中用来更新字典 `dict1` 中键 `num` 对应的值的一种常见写法。让我解释一下这行代码的含义和作用：

```python

dict1[num] = dict1.get(num, 0) + 1
```

### 解释：

1. **dict1.get(num, 0)**：
   - 这个表达式是字典 `dict1` 的方法，用来获取键 `num` 对应的值。如果字典中存在键 `num`，则返回其对应的值；如果字典中不存在键 `num`，则返回默认值 `0`。
2. **dict1[num] = ...**：
   - 这一步将计算得到的新值赋给字典 `dict1` 中的键 `num`。如果 `num` 在字典中不存在，`dict1[num]` 将会被创建，并且初始化为默认值 `0`（因为 `dict1.get(num, 0)` 返回 `0`）。
3. **+ 1**：
   - 这一部分是在获取到的值基础上加 `1`。这表示在字典 `dict1` 中，对键 `num` 对应的值进行增量更新，增加 `1`。

### 总结：

这行代码的作用是将字典 `dict1` 中的键 `num` 的值增加 `1`。如果 `num` 在字典中不存在，它会首先将 `num` 的值初始化为 `0`，然后再加 `1`。这种写法在统计元素出现次数时特别有用，可以很方便地更新字典中键的计数。





4o

为什么要+1呢



ChatGPT

在处理元素计数的场景中，例如统计数组中每个元素出现的次数，通常需要初始化一个计数器，然后每次遇到该元素时，将计数器加一。这种操作在很多算法和数据结构中都很常见，特别是在求解交集的问题中，需要知道每个元素在两个数组中出现的次数。

具体来说，对于这行代码 `dict1[num] = dict1.get(num, 0) + 1` 中的 `+ 1`，它的作用是：

- 如果 `num` 在 `dict1` 中已经存在，则获取当前的计数值，然后将其加一，表示该元素又出现了一次。
- 如果 `num` 不在 `dict1` 中，`dict1.get(num, 0)` 返回默认值 `0`，然后 `+ 1`，就是将该元素的计数从 `0` 变为 `1`。

这种方式可以很方便地实现对元素出现次数的统计。在交集问题中，可以利用这种统计结果来确定两个数组中共同出现的元素。