# 409-------最长回文串--------leetcode

给定一个包含大写字母和小写字母的字符串 `s` ，返回 *通过这些字母构造成的 **最长的*** 

***回文串***

 的长度。



在构造过程中，请注意 **区分大小写** 。比如 `"Aa"` 不能当做一个回文字符串。





**示例 1:**

```
输入:s = "abccccdd"
输出:7
解释:
我们可以构造的最长的回文串是"dccaccd", 它的长度是 7。
```

**示例 2:**

```
输入:s = "a"
输出:1
解释：可以构造的最长回文串是"a"，它的长度是 1。
```

 

```python
def longestPalindrome(s):
    from collections import Counter
    
    # 统计每个字符出现的次数
    count = Counter(s)
    
    # 初始化回文串的长度
    palindrome_length = 0
    # 是否已经有单个字符作为中心
    has_odd = False
    
    for freq in count.values():
        # 如果出现次数是偶数，可以全部用来构造回文串
        if freq % 2 == 0:
            palindrome_length += freq
        else:
            # 如果出现次数是奇数，可以取其偶数部分作为回文串的一部分
            palindrome_length += freq - 1
            # 标记已经有单个字符作为中心
            has_odd = True
    
    # 如果有字符出现奇数次，可以有一个作为中心
    if has_odd:
        palindrome_length += 1
    
    return palindrome_length

```

这道题要求我们从给定的字符串中构造出最长的回文串，并返回其长度。回文串是指正着读和倒着读都一样的字符串。

### 思路分析

1. **理解回文串的构成**：
   - 回文串在构造过程中，中心对称的字符可以任意组合，但是其他字符必须是成对出现的。
2. **问题转化**：
   - 对于一个字符出现偶数次，可以全部用来构造回文串。
   - 对于一个字符出现奇数次，可以取其偶数部分用来构造回文串，剩余一个作为回文串的中心（如果有的话）。
3. **解题步骤**：
   - 统计每个字符出现的次数。
   - 计算可以用来构造回文串的字符数量：
     - 偶数次出现的字符可以全部用来构造回文串。
     - 出现奇数次的字符，可以取其偶数部分作为回文串的一部分，最后如果有剩余一个字符，可以作为回文串的中心。
   - 将以上数量相加即为最长回文串的长度。





### 解释代码

- 使用 `Counter` 类来统计字符串中每个字符的出现次数。
- 初始化 `palindrome_length` 为 0，表示最长回文串的长度。
- 遍历每个字符的出现次数：
  - 如果出现次数是偶数，直接将其加入 `palindrome_length`。
  - 如果出现次数是奇数，取其偶数部分加入 `palindrome_length`，并标记有奇数次出现的字符。
- 最后，如果有字符出现奇数次，额外增加1作为回文串的中心。
- 返回 `palindrome_length` 即为最长回文串的长度。

这样，我们就能够有效地计算出给定字符串中可以构造的最长回文串的长度。